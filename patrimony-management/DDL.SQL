
# DDL - Script para criação do data base

#Sequences
create sequence sq_brand_id start 1 increment 1;
create sequence sq_patrimony_id start 1 increment 1;
create sequence sq_user_id start 1 increment 1;

#Tabelas
create table tb_brand (id int8 not null, name varchar(60) not null, primary key (id));
create table tb_patrimony (id int8 not null, description varchar(300), name varchar(60) not null, id_brand int8 not null, primary key (id));
create table tb_profile (id int8 generated by default as identity, name varchar(255), primary key (id));
create table tb_user (id int8 not null, email varchar(60) not null, name varchar(60) not null, password varchar(100) not null, primary key (id));
create table tb_user_profiles (user_entity_id int8 not null, profiles_id int8 not null);

#Constraint
alter table if exists tb_brand add constraint UK_1a693h2eq7woc4bkaunds3bx8 unique (name);
alter table if exists tb_user add constraint UK_4vih17mube9j7cqyjlfbcrk4m unique (email);
alter table if exists tb_patrimony add constraint FKrpu7qoe5c9ddj078lipl1m0ox foreign key (id_brand) references tb_brand;
alter table if exists tb_user_profiles add constraint FK86pua9rf6p0cap281evnxd052 foreign key (profiles_id) references tb_profile;
alter table if exists tb_user_profiles add constraint FKn1ho65tdgxxeioe2uage671yu foreign key (user_entity_id) references tb_user;

